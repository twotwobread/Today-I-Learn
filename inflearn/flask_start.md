# flask_basic
#### 1.2 Flask 객체를 app에 할당
app = Flask(__name__)
- '__name__'이란 ??
  + '__name__' 이라는 변수는 모듈의 이름이 저장된다.
    - 모듈이 뭐냐? 일종의 해당 파일 이름이다.
    - 만약 test.py라는 놈을 만들고 다른 start.py에서 import test를 통해 모듈로 사용을 하게 된다면 test라는 이름의 모듈로 사용할 수 있다.
  + 실행하는 코드에서는 '__main__'이 들어간다.
    - 내가 현재 실행하는 프로그램에서 나는 __main__이라는 디폴트 모듈로 인식이 된다.
+ if '__name__' == '__main__' :
  + 그럼 위에 저 구문은 뭔 뜻일까? 모듈이 아니라 해당 코드를 직접 실행시만 실행을 시킨다 이말이다.
  + 그럼 이안에 내가 코드를 다 넣어놓으면 모듈로써 땡겨썼을때 실행이 안되는 것이다.
- 자 그럼  flask 객체를 생성할 때 '__name__'말고 다른 이름을 넣으면 정상 실행이 되지 않을까? 그건 아니다. 하지만 일부 확장 기능 사용시에는 해당 이름을 정확히 알려주지 않을 경우, 정상 동작되지 않는다.
- 나라는 프로그램을 이용해서 객체를 만든다고 생각하면 좋을 것 같다.

#### 1.3 라우팅 경로를 설정
##### URL이란?
- Uniform Resource Locator의 약자
- 인터넷 상의 자원 위치를 표기하기 위한 규약이다.
- URI는 Uniform Resource Identifier 통합 자원 식별자이다.
  + 전체 경로에다가 파라미터까지 붙은 형태를 말한다. 그러면 해당 파라미터까지에 해당하는 데이터가 들어오는 것이다.
- WWW 주요 요소 중 하나: HTML, URL, HTTP
  + www은 World Wide Web이고 인터넷을 통한 상호 연결된 웹페이지 시스템을 뜻한다. 인터넷에 연결된 컴퓨터를 이용해 사람들과 정보를 공유할 수 있는 공간. 엄밀히 말하면 인터넷보다 작은 개념이다.
  + HTTP는 HyperText Transfer Protocol의 약자이고 하이퍼 텍스트를 교환, 전송을 위한 통신 규약이다.
    - HTTP는 클라이언트와 서버 사이에 이뤄지는 요청(request)와 응답(response)로 이뤄진다.
    - 예를 들어 특정 링크의 홈페이지를 접속한다고 생각했을때 사용자는 링크를 눌러 request하고 서버는 요청에 따라 홈페이지 정보를 response하고 통신을 종료한다.
    - Http를 통해 클라이언트 -> 서버 요청을 보는 방식은 크게 get, post 2가지로 이루어진다.
      + get : url에 데이터를 붙여서 서버로 데이터를 보내고 정보가 겉으로 드러난다. 그래서 정보량의 한계가 존재한다.
      + post : 데이터가 body 안에 숨겨져서 발송된다. 보안상 좋다.
      + 이러면 get을 왜 쓰냐?? 일반적으로 get은 db에서 자료를 가져와서 읽을 때 주로 사용한다. 반면 post는 서버의 db 값이나 상태를 바꾸는 즉 쓰기, 수정을 할 때 주로 사용한다.
      + 정리해서 get : 동영상, 이미지, 텍스트 등 서버에 저장된 데이터를 가져올 때 사용
      + post : 게시판에 글 쓰기, 회원 가입 등 db에 영향을 줄때 사용
      + get 방식을 읽어오는 용도의 요청을 할 때 쓰는 중요한 이유가 있다. 바로 링크를 전달할 때이다. 만약 post 방식으로 자료를 읽어오면 자료의 링크가 전부 숨겨진다. 그러면 링크를 이용하여 타인에게 정보를 전달하려 해도 불가능해진다.
    - HTTP response 코드는 사용자가 요청한 자료를 응답하는 것 이외에도 코드를 반환한다. 자료가 제대로 불러왔는지 오류가 났는지 등 여부의 확인이 가능하다.
      + 200 OK: 클라이언트에게 성공적으로 처리됐을 때를 의미한다.
      + 302 Found: 요청된 리소스의 URI가 일시적으로 변경됐음을 의미한다.
      + 400 Bad Request: 요청이 잘못되었을 때를 나타낸다.
      + 401 Unauthorized: 인증이 필요한 리소스에 인증없이 접근할 때 발생한다.
      + 403 Forbidden: 서버까지 클라이언트 요청이 도착했으나 접근 권한이 없음을 의미한다.
      + 404 Not Found: 서버가 요청된 리소스를 찾을 수 없음을 의미한다. 가장 흔한 오류이다.
      + 408 Request Timeout: 요청 중 시간이 초과되었을 때 사용한다.
      + 500 Internal Server Error: 서버 문제로 인한 오류. 보통은 서버측 오류이다.
      + 502 Bad Gateway: 게이트웨이가 연결된 서버에서 잘못된 응답을 받았을 때. 보통 서버 폭주시에 발생한다.
  + HTTPS는 HyperText Transfer Protocol over Secure Socket Layer의 약자이다. 간단히 보안이 강화된 HTTP이다. 일반적으로 SSL 또는 TSL 프로토콜을 이용해 데이터를 암호화한다.

##### 라우팅(route)이란?
- 적절한 목적지를 찾아주는 기능
- URL을 해당 URL에 맞는 기능과 연결해준다.
  + 예: http://www.fun-coding.org/hello
  + http://www.fun-coding.org 서버에서 hello 이라는 목적지에 맞는 함수를 호출해줌.
@app.route("/hello") 
def hello(): # 함수의 이름이 무조건 hello일 필요가 없다 달라도 된다. 위에랑. 어짜피 데코레이션 바로 밑에있는 함수를 실행시켜서 달라도 된다.
  return "<h1>Hello World!</h1>" # 데이터를 넣어도 되고 원하는 웹페이지를 리턴해도 된다.
- @으로 시작하는 코드는 데코레이터라고 한다. 나중에 설명하겠음

##### 1.4 메인 모듈로 실행될 때 flask 웹 서버 구동
- 서버로 구동한 IP와 포트를 옵션으로 넣어줄 수 있음.
- app.run() 함수로 서버 구동 가능
  + host, port,, debug를 주로 사용함.
    - host: 웹주소
    - port: 포트
    - debug: True or False
run(host=None, port=None, debug=True)
- 이것은 아주 간단한 기능만 제공해줘서 테스트용으로 사용하고 상용화시에는 별도의 웹서버 프로그램을 사용한다.

##### Web Server와 WAS 프레임워크
- 웹서버는 정적인 HTML 페이지를 반환한다.
  + 요청에 따른 정적인 데이터를 반환한다.
- 웹서버가 동적으로 데이터를 반환하도록 하기 위해선 WAS 프레임워크가 필요하다.
  + 주요 WAS 프레임워크로는 flask, django, rails, node.js 등이 있다.
> 상용화를 위해서는 별도 전문 웹서버를 사용해야 하지만,  
flask는 기본 Web Server도 간단한 명령으로 제공함.












